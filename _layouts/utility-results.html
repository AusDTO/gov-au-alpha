---
layout: default
---
<div class="post">


  <div class="container">
    <div class="column main-col col-xs-12 col-md-12">
      <div class="row page-content">
        {% if page.title == 'Bin Day Results' %}
          <h4>Bin day</h4>
          <div class="feature-box">
            
            <p>Bin collection days for</p>

            <p><a href="#" class="property-detail-link formatted-long-address"></a></p><br /><br />

            

            <h2><span class="clear">General waste collection</span>Sunday Night</h2>
          </div>

          <div class="information-status">
            <p>
              Bins are emptied early Monday morning.
            </p>
          </div>      
          <p>
            Want to know anythng else about <a href="#" class="property-detail-link"><span class="long-address-holder"></span></a>?
          </p>
        {%else if post.title == 'Property Details' %}
          <h6>Property Details</h6>
          <h1 class="formatted-long-address"></h1>
          <div id="mapImgHolder"></div>
        {% endif %}
         
      </div>
    </div>

  </div>
    
</div>

<script>
  $(function() {
    

  });
</script>

<script>
// getParameterByName function is in js/app.js
var streetNumber = getParameterByName('street-number');
var streetName = getParameterByName('route');
var suburb = getParameterByName('locality');
var state = getParameterByName('administrative-area-level-1');
var postcode = getParameterByName('postcode');

var imgAddress = encodeURIComponent(streetNumber + '+' + streetName + '+' + suburb + '+' + state);


var lat = getParameterByName('lat');
var lng = getParameterByName('lng');

formatedLongAddress();
handleShortAddress();
handleLongAddress();
buildStaticImgURL();
createLink();


function handleLongAddress() {
  var longAddress = streetNumber + ' ' + streetName + ', ' + suburb  + ', ' + state + ' ' + postcode;
  var longAddressContainers = document.getElementsByClassName('long-address-holder');
  if (longAddressContainers.length > 0)
  {
    for (var i=0;i<longAddressContainers.length;i++) {
      longAddressContainers[i].innerHTML = longAddress;
    }
  }
}

function formatedLongAddress() {
  var formattedLongAddress = streetNumber + ' ' + streetName + ',<br />' + suburb  + ',<br />' + state + ' ' + postcode;
  var formattedLongAddressContainers = document.getElementsByClassName('formatted-long-address');
  if (formattedLongAddressContainers.length > 0)
  { 
    for (var i=0;i<formattedLongAddressContainers.length;i++) {
      formattedLongAddressContainers[i].innerHTML = formattedLongAddress;
    }
  }
}

function handleShortAddress() {
  var shortAddress = streetNumber + ' ' + streetName + ', ' + suburb ;
  var shortAddressContainers = document.getElementsByClassName('short-address-holder');
  if (shortAddressContainers.length > 0)
  {
    for (var i=0;i<shortAddressContainers.length;i++) {
      shortAddressContainers[i].innerHTML = shortAddress;
    }
  }
}

function buildStaticImgURL() {
  var imgURL = "https://maps.googleapis.com/maps/api/staticmap?center="+imgAddress+"&zoom=19&size=400x300";
  var imgTag = "<img src="+imgURL+" />";
  var imgHolder = document.getElementById('mapImgHolder');
  if (imgHolder)
  {
    imgHolder.innerHTML = imgTag;  
  }  
}

function createLink() {
  var queryString = window.location.href.slice(window.location.href.indexOf('?') + 1);
  var linkHolders = document.getElementsByClassName('property-detail-link');

  if (linkHolders.length > 0)
  {
    for (var i=0;i<linkHolders.length;i++) {
      linkHolders[i].href = "property-details.html?"+queryString;
    }
  } 
}


</script>


