---
layout: default
title:  "Feedback Example"
description: This page is an example of using Google Script Apps for a feedback form.
categories: test-pages
include_on_homepage: true
---
<div class="container {{ page.section | downcase }}">


  <div class="row">
    <div class="col-sm-12 col-lg-10">
      <h1>Give feedback</h1>
      <form id="feedbackForm">
        <fieldset>
          <legend>Overall, how did you feel about the service you received today?</legend>
          <input id="very-satisfied" name="feeling" type="radio" value="Very Satisfied"/>
          <label for="very-satisfied">Very Satisfied</label>
          <input id="satisfied" name="feeling" type="radio" value="Satisfied"/>
          <label for="satisfied">Satisfied</label>
          <input id="neutral" name="feeling" type="radio" value="Neither satisfied nor dissatisfied"/>
          <label for="neutral">Neither satisfied nor dissatisfied</label>
          <input id="dissatisfied" name="feeling" type="radio" value="Dissatisfied"/>
          <label for="dissatisfied">Dissatisfied</label>
          <input id="very-dissatisfied" name="feeling" type="radio" value="Very Dissatisfied"/>
          <label for="very-dissatisfied">Very Dissatisfied</label>
        </fieldset>


        <label for="feedback"><strong>How could we improve this service?</strong></label>
        <textarea id="feedback" name="feedback" rows="3"></textarea><br/>


        <input id="referrer" name="referrer" type="hidden" value=""/>
        <input id="user_agent" name="user_agent" type="hidden" value=""/>

        <input name="send" id="send" type="submit" value="Send"/>
      </form>
      <script>
        // Variable to hold request
        var request;

        // Bind to the submit event of our form
        $("#feedbackForm").submit(function (event) {

          // Abort any pending request
          if (request) {
            request.abort();
          }
          // setup some local variables
          var $form = $(this);

          // Let's select and cache all the fields
          var $inputs = $form.find("input, select, button, textarea");

          $('#referrer').val(document.referrer);
          $('#user_agent').val(navigator.userAgent);

          // Serialize the data in the form
          var serializedData = $form.serialize();

          // Let's disable the inputs for the duration of the Ajax request.
          // Note: we disable elements AFTER the form data has been serialized.
          // Disabled form elements will not be serialized.
          $inputs.prop("disabled", true);


          // Fire off the request to /form.php
          request = $.ajax({
            url: "https://script.google.com/macros/s/AKfycbyGdJVlsp9ZJA0ONAfZSei2_-TslKbM8YfG8vPYmB72SEVX2xRk/exec",
            type: "post",
            data: serializedData,
            beforeSend : function(){

              $('#send').val("Sending...");

            }
          });

          // Callback handler that will be called on success
          request.done(function (response, textStatus, jqXHR) {
            // Log a message to the console
            console.log("Hooray, it worked!");
            console.log(response);
            $('#send').val("Thanks for your feedback!");
          });

          // Callback handler that will be called on failure
          request.fail(function (jqXHR, textStatus, errorThrown) {
            // Log the error to the console
            console.error(
                "The following error occurred: " +
                textStatus, errorThrown
            );

            $('#send').val("Try again...");
          });

          // Callback handler that will be called regardless
          // if the request failed or succeeded
          request.always(function () {
            // Reenable the inputs
            $inputs.prop("disabled", false);
          });

          // Prevent default posting of form
          event.preventDefault();
        });
      </script>
    </div>
  </div>
</div>